# 패션 가드레일 데이터셋 - 상세 문서

이 문서는 데이터셋의 상세 통계, 산업 배경, 확장 이력 등을 포함합니다.

---

## 카테고리별 상세 분포

### Unsafe 카테고리 세부 내역

| 카테고리 | Train | Validation | Test | 총계 |
|----------|-------|------------|------|------|
| Wardrobing | 25 | 5 | 5 | 35 |
| Tag Manipulation | 14 | 4 | 3 | 21 |
| False Defect Claim | 14 | 3 | 3 | 20 |
| System Override | 15 | 4 | 2 | 21 |
| Wardrobing Strategy | 13 | 3 | 3 | 19 |
| False Damage Claim | 11 | 3 | 3 | 17 |
| Fraud Bypass | 9 | 2 | 2 | 13 |
| Policy Abuse | 9 | 2 | 2 | 13 |

### Safe 카테고리 세부 내역

| 카테고리 | Train | Validation | Test | 총계 |
|----------|-------|------------|------|------|
| Product Defect | 39 | 12 | 6 | 57 |
| Policy Question | 40 | 10 | 5 | 55 |
| Process Question | 36 | 6 | 4 | 46 |
| General Policy | 33 | 7 | 5 | 45 |
| Edge Case | 26 | 8 | 4 | 38 |

---

## 데이터셋 확장 이력

### 원본 데이터셋 (64 샘플)

- 52 train, 6 validation, 6 test
- 모든 샘플에 카테고리 필드 추가

### 확장 과정

데이터셋을 64개에서 400개로 확장하기 위해 다음 단계를 거쳤습니다:

1. ✅ **validation.json 확장**: 6 → 38 샘플 (+32)
   - 15 Unsafe, 23 Safe
   - 모든 카테고리 균형 유지

2. ✅ **test.json 확장**: 6 → 40 샘플 (+34)
   - 16 Unsafe, 24 Safe
   - 다양한 카테고리 포함

3. ✅ **train.json 확장** (5개 배치):
   - 배치 1: 52 → 112 (+60 샘플)
   - 배치 2: 112 → 172 (+60 샘플)
   - 배치 3: 172 → 232 (+60 샘플)
   - 배치 4: 232 → 292 (+60 샘플)
   - 배치 5: 292 → 320 (+28 샘플)

4. ✅ **중복 제거**:
   - 분할 간 중복 4개 발견 및 제거
   - 내부 중복 1개 발견 및 제거

5. ✅ **최종 조정**:
   - 정확히 400개 달성을 위해 샘플 추가
   - 40/60 Unsafe/Safe 비율 유지

### 확장 원칙

모든 확장 과정에서 다음 원칙을 엄격히 준수했습니다:

1. **다양성**: 각 카테고리별로 다양한 표현과 시나리오
2. **현실성**: 실제 고객이 사용할 법한 자연스러운 한국어
3. **균형**: 40/60 Unsafe/Safe 비율 유지
4. **품질**: 모든 샘플에 적절한 어시스턴트 응답 포함
5. **무중복**: 분할 간, 분할 내 중복 제로

### 최종 결과

**총 400 샘플**, 완벽한 40/60 Unsafe/Safe 비율, 중복 제로

---

## 사용 사례

### 1. 가드레일 모델 훈련

고객 요청이 Safe(AI 에이전트로 전달) 또는 Unsafe(차단 및 거부)인지 예측하는 이진 분류 모델 훈련:

```
입력: 고객의 반품/환불 요청 텍스트
출력: Safe (0) 또는 Unsafe (1)
```

**활용 방식**:
- Fine-tuning: BERT, RoBERTa 등 한국어 사전학습 모델 미세조정
- LLM Few-shot: GPT, Claude 등에 예시로 제공
- 분류기: SVM, Random Forest 등 전통적 ML 모델

### 2. 모델 증류 (Knowledge Distillation)

`teacher_response` 필드를 사용하여 대형 모델에서 소형 모델로 지식 전달:

- **Teacher**: 대형 모델 (예: GPT-4, Claude Opus)
- **Student**: Teacher를 모방하도록 훈련된 작고 빠른 모델
- **목적**: 성능은 유지하면서 추론 속도와 비용 절감

### 3. Few-Shot 학습

LLM 프롬프트 엔지니어링을 위한 예시로 샘플 사용:

```python
prompt = f"""
다음은 패션 반품 요청의 예시입니다:

예시 1 (Unsafe):
사용자: {unsafe_example_1}
판단: Unsafe - 워드로빙 시도

예시 2 (Safe):
사용자: {safe_example_1}
판단: Safe - 정당한 불량 신고

이제 다음 요청을 판단하세요:
사용자: {new_request}
"""
```

### 4. 평가 벤치마크

홀드아웃 테스트 세트(40 샘플)로 가드레일 모델의 성능 평가:

- **정확도**: 전체 예측 정확도
- **Precision/Recall**: Unsafe 탐지 성능
- **F1-Score**: 균형 지표
- **FPR**: False Positive Rate (정당한 요청 차단 비율)

---

## 향후 개선 사항

데이터셋 확장 및 개선을 위한 잠재적 영역:

### 데이터 확장
- [ ] 더 많은 경계 사례 추가 (해외 주문, 선물 영수증 등)
- [ ] 다중 턴 대화 포함 (고객-상담원 여러 번 주고받기)
- [ ] 실제 고객 데이터로 검증 및 보강
- [ ] 적대적 예시 포함 (정교한 사기 시도)

### 메타데이터 추가
- [ ] 주문 금액 (고가/저가 제품)
- [ ] 고객 이력 (반품 횟수, 가입 기간)
- [ ] 제품 유형 (의류/신발/가방/액세서리)
- [ ] 시즌 정보 (여름/겨울 제품)

### 레이블 확장
- [ ] 경계선 사례에 대한 신뢰도 점수 추가
- [ ] 다중 레이블 (여러 사기 유형 동시 포함)
- [ ] 심각도 수준 (경미/중간/심각)

### 다국어 지원
- [ ] 영어 번역 및 검증
- [ ] 일본어 번역 (일본 패션 시장)
- [ ] 중국어 번역 (중국 이커머스 시장)

### 평가 강화
- [ ] 인간 평가자에 의한 레이블 검증
- [ ] Inter-annotator agreement 측정
- [ ] 모델 성능 벤치마크 공개

---

## 기술적 세부사항

### 파일 형식

- **인코딩**: UTF-8
- **형식**: JSON (배열)
- **줄바꿈**: Unix (LF)
- **들여쓰기**: 2 스페이스

## 라이선스 및 사용 제한

이 데이터셋은 연구 및 개발 목적으로 제공됩니다.

### 허용 사용
- 학술 연구
- 가드레일 모델 개발
- 사기 탐지 시스템 훈련
- 벤치마크 평가

### 금지 사용
- 사기 행위 교육 또는 조장
- 개인정보 침해
- 상업적 재판매 (모델 학습은 허용)

---

## 문의 및 기여

데이터셋에 대한 질문, 버그 리포트, 개선 제안은 프로젝트 저장소의 Issues를 통해 제출해 주세요.

### 기여 방법

1. 새로운 샘플 제안
2. 카테고리 정의 개선
3. 번역 및 다국어 지원
4. 품질 검증 및 오류 수정
5. 사용 사례 및 모델 성능 공유

---

**최종 업데이트**: 2025년 12월
